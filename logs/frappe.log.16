[ERROR] 2018-09-22 22:07:02,618 | /home/vini/frappe-bench/apps/frappe/frappe/app.py:
Site: site1.local
Form Dict: {
 "_lang": "en", 
 "cmd": "frappe.www.printview.get_html_and_style", 
 "doc": "{\"base_write_off_amount\":0,\"modified_by\":\"Administrator\",\"title\":\"Hidalgo Export C.XA.\",\"supplied_items\":[],\"set_posting_time\":0,\"base_in_words\":\"CAD Zero only.\",\"due_date\":\"2018-09-29\",\"total_pallet\":\"1.33\",\"doctype\":\"Purchase Invoice\",\"ignore_pricing_rule\":0,\"far\":0,\"advances\":[],\"base_discount_amount\":0,\"base_total_taxes_and_charges\":0,\"supplier_name\":\"Hidalgo Export C.XA.\",\"items\":[{\"boxes_ordered\":0,\"item_group\":\"Eggplants\",\"stock_qty\":25,\"base_price_list_rate\":20.48,\"image\":\"/files/1.jpg\",\"creation\":\"2018-09-22 13:33:52.381171\",\"landed_cost_voucher_amount\":0,\"base_amount\":0,\"qty\":25,\"item_tax_rate\":\"{}\",\"rate\":15.75,\"total_weight\":875,\"owner\":\"Administrator\",\"cost_center\":\"Sundine Main - .\",\"received_qty\":0,\"rm_supp_cost\":0,\"base_net_amount\":0,\"page_break\":0,\"modified_by\":\"Administrator\",\"base_net_rate\":20.48,\"boxes_pallet_for_purchase\":49,\"item_name\":\"Chinese Eggplant DR \",\"amount\":0,\"retain_sample\":0,\"returns\":0,\"stock_uom\":\"Box\",\"box_rate\":0,\"docstatus\":1,\"supplier_part_no\":\"HID\",\"sample_quantity\":0,\"uom\":\"Box\",\"price_list_rate\":15.75,\"doctype\":\"Purchase Invoice Item\",\"description\":\"Chinese Eggplant DR <div><br></div><div>Country: Dominican Republic</div>\",\"parent\":\"PINV-00017\",\"item_tax_amount\":0,\"conversion_factor\":1,\"item_code\":\"CEPDR\",\"base_rate\":20.48,\"pallets_ordered\":0,\"credits\":0,\"warehouse\":\"Sundine Kestrel- . - .\",\"rejected_qty\":0,\"weight_uom\":\"lbs\",\"allow_zero_valuation_rate\":0,\"name\":\"7320635efb\",\"idx\":1,\"gross_weight_lbs\":38,\"discount_percentage\":0,\"modified\":\"2018-09-22 13:34:54.154976\",\"weight_per_unit\":35,\"expense_account\":\"2800 - Stock Received But Not Billed - .\",\"parenttype\":\"Purchase Invoice\",\"net_rate\":15.75,\"valuation_rate\":0,\"net_amount\":0,\"received_box\":\"25\",\"is_fixed_asset\":0,\"parentfield\":\"items\"},{\"boxes_ordered\":0,\"item_group\":\"Vegetables\",\"stock_qty\":40,\"base_price_list_rate\":25.35,\"image\":\"/files/Tindora.jpg\",\"creation\":\"2018-09-22 13:33:52.381171\",\"landed_cost_voucher_amount\":0,\"base_amount\":0,\"qty\":40,\"item_tax_rate\":\"{}\",\"rate\":19.5,\"total_weight\":1200,\"owner\":\"Administrator\",\"cost_center\":\"Sundine Main - .\",\"received_qty\":0,\"rm_supp_cost\":0,\"base_net_amount\":0,\"page_break\":0,\"modified_by\":\"Administrator\",\"base_net_rate\":25.35,\"boxes_pallet_for_purchase\":49,\"item_name\":\"Tindora\",\"amount\":0,\"retain_sample\":0,\"returns\":0,\"stock_uom\":\"Box\",\"box_rate\":0,\"docstatus\":1,\"sample_quantity\":0,\"uom\":\"Box\",\"price_list_rate\":19.5,\"doctype\":\"Purchase Invoice Item\",\"description\":\"Tindora\",\"parent\":\"PINV-00017\",\"item_tax_amount\":0,\"conversion_factor\":1,\"item_code\":\"TDR\",\"base_rate\":25.35,\"pallets_ordered\":0,\"credits\":0,\"warehouse\":\"Sundine Kestrel- . - .\",\"rejected_qty\":0,\"weight_uom\":\"lbs\",\"allow_zero_valuation_rate\":0,\"name\":\"ed16d65d40\",\"idx\":2,\"gross_weight_lbs\":32,\"discount_percentage\":0,\"modified\":\"2018-09-22 13:34:54.154976\",\"weight_per_unit\":30,\"expense_account\":\"2800 - Stock Received But Not Billed - .\",\"parenttype\":\"Purchase Invoice\",\"net_rate\":19.5,\"valuation_rate\":0,\"net_amount\":0,\"received_box\":\"40\",\"is_fixed_asset\":0,\"parentfield\":\"items\"},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 11\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":3},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 12\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":4},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 13\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":5},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 14\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":6},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 15\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":7},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 16\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":8},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 17\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":9},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 18\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":10},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 19\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":11},{\"docstatus\":0,\"doctype\":\"Purchase Invoice Item\",\"name\":\"New Purchase Invoice Item 20\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"stock_uom\":\"Box\",\"cost_center\":\"Sundine Main - .\",\"item_group\":\"Vegetables\",\"parent\":\"PINV-00017\",\"parentfield\":\"items\",\"parenttype\":\"Purchase Invoice\",\"idx\":12}],\"taxes_and_charges_added\":0,\"name\":\"PINV-00017\",\"is_paid\":0,\"is_return\":0,\"taxes\":[],\"base_rounding_adjustment\":0,\"write_off_amount\":0,\"supplier_address\":\"Hidalgo Exports-Permanent\",\"creation\":\"2018-09-22 13:33:52.381171\",\"party_account_currency\":\"USD\",\"net_total\":0,\"owner\":\"Administrator\",\"price_list_currency\":\"USD\",\"base_taxes_and_charges_added\":0,\"contact_display\":\"Nolberto  Hidalgo\",\"supplier\":\"Hidalgo Export C.XA.\",\"buying_price_list\":\"Hidalgo Buying Price\",\"terms\":\"\",\"is_opening\":\"No\",\"contact_mobile\":\"+18093993956\",\"base_net_total\":0,\"taxes_and_charges_deducted\":0,\"rounded_total\":0,\"apply_discount_on\":\"Grand Total\",\"total_weight_kg\":\"1011.51\",\"contact_person\":\"Nolberto Hidalgo-Hidalgo Export C.XA.\",\"in_words\":\"USD Zero only.\",\"discount_amount\":0,\"additional_discount_percentage\":0,\"total_gross_weight_lbs\":\"2230.00\",\"disable_rounded_total\":0,\"base_paid_amount\":0,\"conversion_rate\":1.3,\"total_boxes\":\"65.00\",\"total_advance\":0,\"posting_time\":\"13:34:45.190956\",\"total\":0,\"payment_terms_template\":\"Net 7\",\"is_subcontracted\":\"No\",\"update_stock\":0,\"base_total\":0,\"company\":\"Sundine Produce\",\"language\":\"en\",\"base_rounded_total\":0,\"grand_total\":0,\"idx\":0,\"modified\":\"2018-09-22 13:34:54.154976\",\"rounding_adjustment\":0,\"shipping_address\":\"Sundine Address-Permanent\",\"posting_date\":\"2018-09-22\",\"address_display\":\"Sabaneta La Vega , \\nDominican Republic<br>\\n\\nPhone: +18098240707<br>Fax: +18098240093<br>Email: hidalgoexport@gmail.com<br>\",\"against_expense_account\":\"2800 - Stock Received But Not Billed - .\",\"naming_series\":\"PINV-\",\"currency\":\"USD\",\"letter_head\":\"SLH\",\"base_taxes_and_charges_deducted\":0,\"paid_amount\":0,\"credit_to\":\"2200 - USD Accounts Payable - .\",\"base_grand_total\":0,\"docstatus\":1,\"status\":\"Paid\",\"__onload\":{\"make_payment_via_journal_entry\":0},\"outstanding_amount\":0,\"total_net_weight\":2075,\"truck_condition\":\"Yes\",\"remarks\":\"No Remarks\",\"shipping_address_display\":\"6075 Kestrel Road Mississauga , \\nOntario L5T 1Y8 <br> Canada<br>\\n\\nPhone: 9053641600<br>Fax: 4163421763<br>Email: sundine@sundineproduce.com<br>\",\"payment_schedule\":[{\"due_date\":\"2018-09-29\",\"modified_by\":\"Administrator\",\"name\":\"c355262ffe\",\"parent\":\"PINV-00017\",\"payment_term\":\"Net 7\",\"creation\":\"2018-09-22 13:33:52.381171\",\"modified\":\"2018-09-22 13:34:54.154976\",\"doctype\":\"Payment Schedule\",\"idx\":1,\"parenttype\":\"Purchase Invoice\",\"payment_amount\":0,\"invoice_portion\":100,\"owner\":\"Administrator\",\"docstatus\":1,\"parentfield\":\"payment_schedule\"}],\"plc_conversion_rate\":1.3,\"total_taxes_and_charges\":0,\"contact_email\":\"hidalgoexport@gmail.com\",\"__last_sync_on\":\"2018-09-23T02:06:59.664Z\",\"__unsaved\":1}", 
 "no_letterhead": "0", 
 "print_format": "Sundine PINV"
}
Request Error
Traceback (most recent call last):
  File "/home/vini/frappe-bench/apps/frappe/frappe/app.py", line 62, in application
    response = frappe.handler.handle()
  File "/home/vini/frappe-bench/apps/frappe/frappe/handler.py", line 22, in handle
    data = execute_cmd(cmd)
  File "/home/vini/frappe-bench/apps/frappe/frappe/handler.py", line 53, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/vini/frappe-bench/apps/frappe/frappe/__init__.py", line 939, in call
    return fn(*args, **newargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/www/printview.py", line 188, in get_html_and_style
    no_letterhead=no_letterhead, trigger_print=trigger_print),
  File "/home/vini/frappe-bench/apps/frappe/frappe/www/printview.py", line 159, in get_html
    html = template.render(args, filters={"len": len})
  File "/home/vini/frappe-bench/env/lib/python2.7/site-packages/jinja2/environment.py", line 1008, in render
    return self.environment.handle_exception(exc_info, True)
  File "/home/vini/frappe-bench/env/lib/python2.7/site-packages/jinja2/environment.py", line 780, in handle_exception
    reraise(exc_type, exc_value, tb)
  File "<template>", line 52, in top-level template code
TypeError: unsupported operand type(s) for +: 'int' and 'NoneType'
[ERROR] 2018-09-23 13:11:14,772 | /home/vini/frappe-bench/apps/frappe/frappe/app.py:
Site: site1.local
Form Dict: {
 "action": "Save", 
 "cmd": "frappe.desk.form.save.savedocs", 
 "doc": "{\"docstatus\":0,\"doctype\":\"Journal Entry\",\"name\":\"New Journal Entry 2\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"voucher_type\":\"Journal Entry\",\"naming_series\":\"JV-\",\"company\":\"Sundine Produce\",\"total_amount_currency\":\"CAD\",\"write_off_based_on\":\"Accounts Receivable\",\"letter_head\":\"SLH\",\"is_opening\":\"No\",\"accounts\":[{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 11\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"Yes\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":1,\"bill_date\":\"2018-09-24\",\"reference_name\":\"222\",\"party\":\"Shell Canada\",\"party_balance\":0,\"account\":\"2100 - CAD Accounts Payable  - .\",\"balance\":0,\"expense_account\":\"5510 - Gas Expensee - SP\",\"debit_in_account_currency\":100,\"exchange_rate\":1,\"debit\":100,\"credit\":0},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 12\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":2},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 13\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":3},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 14\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":4},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 15\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":5},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 16\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":6},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 17\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":7},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 18\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":8},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 19\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":9},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 20\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"vkb@sundinepro.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 2\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":10}],\"posting_date\":\"2018-09-23\",\"total_debit\":100,\"total_credit\":0,\"difference\":100,\"account\":\"2100 - CAD Accounts Payable  - .\"}"
}
Request Error
Traceback (most recent call last):
  File "/home/vini/frappe-bench/apps/frappe/frappe/app.py", line 62, in application
    response = frappe.handler.handle()
  File "/home/vini/frappe-bench/apps/frappe/frappe/handler.py", line 22, in handle
    data = execute_cmd(cmd)
  File "/home/vini/frappe-bench/apps/frappe/frappe/handler.py", line 53, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/vini/frappe-bench/apps/frappe/frappe/__init__.py", line 939, in call
    return fn(*args, **newargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/desk/form/save.py", line 22, in savedocs
    doc.save()
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 259, in save
    return self._save(*args, **kwargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 282, in _save
    self.insert()
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 221, in insert
    self.run_before_save_methods()
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 862, in run_before_save_methods
    self.run_method("validate")
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 758, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 1027, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 1010, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 752, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/vini/frappe-bench/apps/erpnext/erpnext/accounts/doctype/journal_entry/journal_entry.py", line 26, in validate
    self.validate_party()
  File "/home/vini/frappe-bench/apps/erpnext/erpnext/accounts/doctype/journal_entry/journal_entry.py", line 100, in validate_party
    account_type = frappe.db.get_value("Account", d.account, "account_type")
AttributeError: 'JournalEntryAccount' object has no attribute 'account'
[ERROR] 2018-09-23 14:28:22,653 | /home/vini/frappe-bench/apps/frappe/frappe/app.py:
Site: site1.local
Form Dict: {
 "action": "Save", 
 "cmd": "frappe.desk.form.save.savedocs", 
 "doc": "{\"docstatus\":0,\"doctype\":\"Journal Entry\",\"name\":\"New Journal Entry 3\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"voucher_type\":\"Journal Entry\",\"naming_series\":\"JV-\",\"company\":\"Sundine Produce\",\"total_amount_currency\":\"CAD\",\"write_off_based_on\":\"Accounts Receivable\",\"letter_head\":\"SLH\",\"is_opening\":\"No\",\"accounts\":[{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 21\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":1,\"bill_date\":\"2018-09-23\",\"expense_account\":\"5200 - Freight charges - .\",\"party\":\"Star Van Systems Inc\",\"party_balance\":0,\"account\":\"2100 - CAD Accounts Payable  - .\",\"balance\":0,\"debit_in_account_currency\":2500,\"exchange_rate\":1,\"debit\":2500,\"credit\":0},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 22\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":2},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 23\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":3},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 24\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":4},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 25\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":5},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 26\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":6},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 27\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":7},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 28\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":8},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 29\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":9},{\"docstatus\":0,\"doctype\":\"Journal Entry Account\",\"name\":\"New Journal Entry Account 30\",\"__islocal\":1,\"__unsaved\":1,\"owner\":\"sree@sundineproduce.com\",\"reference_type\":\"\",\"party_type\":\"Supplier\",\"account_currency\":\"CAD\",\"tax_type\":\"No\",\"cost_center\":\"Sundine Main - .\",\"is_advance\":\"No\",\"parent\":\"New Journal Entry 3\",\"parentfield\":\"accounts\",\"parenttype\":\"Journal Entry\",\"idx\":10}],\"posting_date\":\"2018-09-23\",\"total_debit\":2500,\"total_credit\":0,\"difference\":2500}"
}
Request Error
Traceback (most recent call last):
  File "/home/vini/frappe-bench/apps/frappe/frappe/app.py", line 62, in application
    response = frappe.handler.handle()
  File "/home/vini/frappe-bench/apps/frappe/frappe/handler.py", line 22, in handle
    data = execute_cmd(cmd)
  File "/home/vini/frappe-bench/apps/frappe/frappe/handler.py", line 53, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File "/home/vini/frappe-bench/apps/frappe/frappe/__init__.py", line 939, in call
    return fn(*args, **newargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/desk/form/save.py", line 22, in savedocs
    doc.save()
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 259, in save
    return self._save(*args, **kwargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 282, in _save
    self.insert()
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 221, in insert
    self.run_before_save_methods()
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 862, in run_before_save_methods
    self.run_method("validate")
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 758, in run_method
    out = Document.hook(fn)(self, *args, **kwargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 1027, in composer
    return composed(self, method, *args, **kwargs)
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 1010, in runner
    add_to_return_value(self, fn(self, *args, **kwargs))
  File "/home/vini/frappe-bench/apps/frappe/frappe/model/document.py", line 752, in <lambda>
    fn = lambda self, *args, **kwargs: getattr(self, method)(*args, **kwargs)
  File "/home/vini/frappe-bench/apps/erpnext/erpnext/accounts/doctype/journal_entry/journal_entry.py", line 26, in validate
    self.validate_party()
  File "/home/vini/frappe-bench/apps/erpnext/erpnext/accounts/doctype/journal_entry/journal_entry.py", line 100, in validate_party
    account_type = frappe.db.get_value("Account", d.account, "account_type")
AttributeError: 'JournalEntryAccount' object has no attribute 'account'
